name: Ruff

on:
  push:
    branches: [ "main" ]
  pull_request:
    # The branches below must be a subset of the branches above
    branches: [ "main" ]
  schedule:
    - cron: '30 3 * * *'

permissions:
  contents: read

jobs:
  ruff:
    name: Ruff
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.12'
          cache: 'pip'
      - uses: chartboost/ruff-action@v1
        with:
          args: 'check --select A,AIR,ANN,ARG,ASYNC,B,BLE,C4,C90,COM,CPY,DTZ,E,EM,ERA,F,FA,FAST,FBT,FIX,FLY,FURB,G,I,ICN,INP,INT,ISC,LOG,N,NPY,PERF,PGH,PIE,PL,PT,PTH,PYI,Q,R,RET,RSE,RUF,S,SIM,SLF,SLOT,T10,T20,TCH,TD,TID,TRY,UP,W,YTT --output-format github --diff --exclude docker,docs,scripts,tests,vendor'
